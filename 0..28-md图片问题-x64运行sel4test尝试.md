# 解决了github markdown文件显示问题

使用相对路径，建个文件夹。

![image-20220301105236442](images/x64-%E8%BF%90%E8%A1%8Csel4.assets/image-20220301105236442.png)

# 树莓派可能有参考的内容

这个是树莓派OS跑树莓派kernel。[QEMU搭建树莓派环境_Yale的博客-CSDN博客_qemu 树莓派](https://blog.csdn.net/yalecaltech/article/details/90524245)。

* 它是把树莓派镜像挂载，mnt命令类似于创建一个设备，这个设备作为内核所在的磁盘，qemu模拟出来机器，加载磁盘，启动。



# 编译x64上可运行的sel4test

官方文档：[PC99 | seL4 docs](https://docs.sel4.systems/Hardware/IA32)。

```
repo init -u https://github.com/seL4/sel4test-manifest.git
repo sync
mkdir cbuild && cd cbuild
../init-build.sh -DPLATFORM=x86_64 -DSIMULATION=1
ninja
./simulate
```



修改simulate.py文件，让其打印命令，并停止其执行，如下：

![image-20220228205056086](images/x64-%E8%BF%90%E8%A1%8Csel4.assets/image-20220228205056086.png)

```
qemu-system-x86_64  -cpu Nehalem,-vme,+pdpe1gb,-xsave,-xsaveopt,-xsavec,-fsgsbase,-invpcid,+syscall,+lm,enforce -nographic -serial mon:stdio -m size=3G  -kernel images/kernel-x86_64-pc99 -initrd images/sel4test-driver-image-x86_64-pc99
```

* 当去掉上述命令的测试程序：

```
qemu-system-x86_64  -cpu Nehalem,-vme,+pdpe1gb,-xsave,-xsaveopt,-xsavec,-fsgsbase,-invpcid,+syscall,+lm,enforce -nographic -serial mon:stdio -m size=3G  -kernel images/kernel-x86_64-pc99
```

![image-20220228210734748](images/x64-%E8%BF%90%E8%A1%8Csel4.assets/image-20220228210734748.png)



* 当去掉cpu：

```
qemu-system-x86_64 -serial mon:stdio -m size=8G  -kernel images/kernel-x86_64-pc99
```

![image-20220228211805203](images/x64-%E8%BF%90%E8%A1%8Csel4.assets/image-20220228211805203.png)







[1173218 – Improve QEMU error message when huge pages are incorrectly configured (redhat.com)](https://bugzilla.redhat.com/show_bug.cgi?id=1173218).

[【一顿操作】用Grub2命令行引导启动Windows10_hikkilover的博客-CSDN博客_grub2引导win10](https://blog.csdn.net/hikkilover/article/details/82290873)

[linux 内核启动Initramfs与initrd 及其挂载_老鹰不捉小鸡-CSDN博客_initrd 加载内核](https://blog.csdn.net/weixin_43836778/article/details/90205177)

