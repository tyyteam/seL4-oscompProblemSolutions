# sel4 test--ia32部分

学一下这个文档：[seL4Test | seL4 docs](https://docs.sel4.systems/projects/sel4test/)。

```
mkdir sel4test
cd sel4test
repo init -u https://github.com/seL4/sel4test-manifest.git #此处加上-b refs/tags/12.1.0跑不通
repo sync
ls
```

打开version文件，确实是12.1.0

然后编译出ia32的文件：

```
mkdir ia32_build
cd ia32_build
../init-build.sh -DPLATFORM=ia32 -DRELEASE=TRUE -DSIMULATION=TRUE #此处默认是debug build模式，如果加-DRELEASE，表示release build模式
ninja
```

* 第一次，ninja报错，生成32位的有问题。装了包也不行，可能是cmake内部的问题。比如未指定-m32

![image-20220303015633148](images/03.05-sel4test-ia32%E7%89%88%E6%9C%AC-%E5%BC%80%E5%8F%91%E4%BA%BA%E5%91%98%E8%AF%B4%E6%B2%A1%E9%97%AE%E9%A2%98.assets/image-20220303015633148.png)

找到个官方回答：[L4Re -- The L4 Runtime Environment (tu-dresden.de)](http://os.inf.tu-dresden.de/L4Re/faq.html)。

* 第二次，ninja不报错了，没有用tag=12.1.0的分支，而是默认的主分支。不过运行过程中还是有问题，打算看tutorial部分解决。

![image-20220303094717127](images/03.05-sel4test-ia32%E7%89%88%E6%9C%AC-%E5%BC%80%E5%8F%91%E4%BA%BA%E5%91%98%E8%AF%B4%E6%B2%A1%E9%97%AE%E9%A2%98.assets/image-20220303094717127.png)

github上issue里问了开发人员，说这是通过了。

![1](images/03.05-sel4test-ia32%E7%89%88%E6%9C%AC-%E5%BC%80%E5%8F%91%E4%BA%BA%E5%91%98%E8%AF%B4%E6%B2%A1%E9%97%AE%E9%A2%98.assets/1.png)

