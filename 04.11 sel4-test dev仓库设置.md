# 支持龙芯平台的seL4test项目
## 先按官方手册初始化仓库(https://docs.sel4.systems/projects/sel4test)
``` shell
mkdir sel4test
cd sel4test
repo init -u https://github.com/seL4/sel4test-manifest.git
repo sync
```
## 脚本获取
在初始化后的仓库中运行：
``` shell
wget home.ustc.edu.cn/~le24/shell/init_loongarch_seL4-test_dev.sh
wget home.ustc.edu.cn/~le24/shell/pull_loongarch_seL4-test_dev.sh
wget home.ustc.edu.cn/~le24/shell/push_loongarch_seL4-test_dev.sh
```
第一个脚本是用来将官方项目中的仓库替换为支持龙芯平台的仓库（beta）。

第二个脚本用来拉取仓库最新代码。

第三个脚本用来推送到龙芯seL4test的dev分支。

需要运行
``` shell
chmod u+x init_loongarch_seL4-test_dev.sh
chmod u+x pull_loongarch_seL4-test_dev.sh
chmod u+x push_loongarch_seL4-test_dev.sh
```
设置运行权限。
## 龙芯seL4test仓库构建
``` shell
./init_loongarch-seL4-test_dev.sh ssh
```
脚本会在当前目录下完成对sel4官方仓库的替换，官方原有的仓库会增加_old后缀，留作备份。
脚本名后面的ssh是仓库clone的方式，如有需要可以替换为http。
## 龙芯seL4test仓库拉取最新代码
``` shell
./pull_loongarch-seL4-test_dev.sh
```
脚本会在当前目录下对所有仓库运行git pull拉取最新代码。

## 龙芯seL4test仓库推送你的代码
``` shell
./push_loongarch-seL4-test_dev.sh <commit message>
```
运行这个脚本来上传你的修改，请将<commit message>替换为你上传时的备注信息。


##  构建loongarch项目

```
mkdir build_3A5000
cd build_3A5000
../init-build.sh -DPLATFORM=3A5000 -DLoongarch64=1 -DSIMULATION=1
```
