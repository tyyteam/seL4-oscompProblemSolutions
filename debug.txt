[1/255] Generating simulate, launch_gdb
[2/255] Generate invocation header gen_headers/api/invocation.h
[3/255] Generate dummy headers for prune compilation
[4/255] Concatenating C files
[5/255] Generate syscall invocations
[6/255] Generate invocation header gen_headers/arch/api/invocation.h
[7/255] Building ASM object apps/sel4test-driver/sel4runtime/CMakeFiles/sel4runtime_crt_obj.dir/crt/sel4_arch/loongarch64/crti.S.obj
[8/255] Generating linker.lds_pp
[9/255] Building ASM object apps/sel4test-driver/sel4runtime/CMakeFiles/sel4runtime_crt_obj.dir/crt/sel4_arch/loongarch64/crtn.S.obj
[10/255] Building ASM object apps/sel4test-driver/sel4runtime/CMakeFiles/sel4runtime_crt_obj.dir/crt/arch/loongarch/crt0.S.obj
[11/255] Building ASM object apps/sel4test-driver/sel4runtime/CMakeFiles/sel4runtime_crt_obj.dir/crt/arch/loongarch/sel4_crt0.S.obj
[12/255] Creating C input file for preprocessor
[13/255] Creating C input file for preprocessor
[14/255] Building C object libsel4/CMakeFiles/libsel4_shared_types_gen_pbf_temp_lib.dir/libsel4_shared_types_gen_pbf_temp.c.obj
[15/255] Building C object libsel4/CMakeFiles/libsel4_sel4_arch_types_gen_pbf_temp_lib.dir/libsel4_sel4_arch_types_gen_pbf_temp.c.obj
[16/255] Generating generated/shared_types_gen/shared_types.pbf
[17/255] Using cache musllibc build
[18/255] Generating generated/sel4_arch_shared_types/types.pbf
[19/255] Building C object apps/sel4test-driver/util_libs/libutils/CMakeFiles/utils.dir/src/zf_log.c.obj
[20/255] Generate invocation header gen_headers/arch/api/sel4_invocation.h
[21/255] Generating ../../../lib/crt0.o, ../../../lib/crti.o, ../../../lib/crtn.o
[22/255] Creating C input file for preprocessor
[23/255] Creating C input file for preprocessor
[24/255] Building C object kernel/CMakeFiles/kernel_bf_gen_target_1_pbf_temp_lib.dir/kernel_bf_gen_target_1_pbf_temp.c.obj
[25/255] Generating generated/arch/object/structures.bf.pbf
[26/255] Building C object kernel/CMakeFiles/kernel_all_pp_prune_wrapper_temp_lib.dir/kernel_all_pp_prune_wrapper_temp.c.obj
[27/255] Generating from /home/leon/download/sel4-test/test/libsel4/generated/shared_types_gen/shared_types.pbf
[28/255] Generating kernel_all_pp_prune.c
[29/255] Generating from /home/leon/download/sel4-test/test/libsel4/generated/sel4_arch_shared_types/types.pbf
[30/255] Generate sel4_client.h
[31/255] Generating from generated/arch/object/structures.bf.pbf
[32/255] Creating C input file for preprocessor
[33/255] Building C object kernel/CMakeFiles/kernel_bf_gen_target_11_pbf_temp_lib.dir/kernel_bf_gen_target_11_pbf_temp.c.obj
[34/255] Generate invocation header arch_include/loongarch/sel4/arch/invocation.h
[35/255] Generating generated/sel4/shared_types.bf.pbf
[36/255] Building C object apps/sel4test-driver/util_libs/libutils/CMakeFiles/utils.dir/src/cbor64.c.obj
[37/255] Building C object apps/sel4test-driver/util_libs/libutils/CMakeFiles/utils.dir/src/debug.c.obj
[38/255] Building C object apps/sel4test-driver/util_libs/libutils/CMakeFiles/utils.dir/src/list.c.obj
[39/255] Building C object apps/sel4test-driver/util_libs/libutils/CMakeFiles/utils.dir/src/xml.c.obj
[40/255] Linking C static library apps/sel4test-driver/util_libs/libutils/libutils.a
[41/255] Building C object apps/sel4test-driver/util_libs/libplatsupport/CMakeFiles/platsupport.dir/src/fdt.c.obj
[42/255] Building C object apps/sel4test-driver/util_libs/libplatsupport/CMakeFiles/platsupport.dir/src/io.c.obj
[43/255] Building C object apps/sel4test-driver/util_libs/libplatsupport/CMakeFiles/platsupport.dir/src/local_time_manager.c.obj
[44/255] Building C object apps/sel4test-driver/util_libs/libplatsupport/CMakeFiles/platsupport.dir/src/plat/3A5000/chardev.c.obj
[45/255] Building C object apps/sel4test-driver/util_libs/libplatsupport/CMakeFiles/platsupport.dir/src/plat/3A5000/serial.c.obj
[46/255] Building C object apps/sel4test-driver/util_libs/libplatsupport/CMakeFiles/platsupport.dir/src/serial.c.obj
[47/255] Building C object apps/sel4test-driver/util_libs/libplatsupport/CMakeFiles/platsupport.dir/src/tqueue.c.obj
[48/255] Building C object apps/sel4test-driver/util_libs/libelf/CMakeFiles/elf.dir/src/elf.c.obj
[49/255] Building C object apps/sel4test-driver/util_libs/libelf/CMakeFiles/elf.dir/src/elf32.c.obj
[50/255] Generating from generated/sel4/shared_types.bf.pbf
[51/255] Building C object apps/sel4test-driver/util_libs/libelf/CMakeFiles/elf.dir/src/elf64.c.obj
[52/255] Generate invocation header include/sel4/invocation.h
[53/255] Creating C input file for preprocessor
[54/255] Creating C input file for preprocessor
[55/255] Generate syscall.h
[56/255] Building C object apps/sel4test-driver/util_libs/libcpio/CMakeFiles/cpio.dir/src/cpio.c.obj
[57/255] Building C object kernel/CMakeFiles/linker_ld_wrapper_temp_lib.dir/linker_ld_wrapper_temp.c.obj
[58/255] Linking C static library apps/sel4test-driver/util_libs/libelf/libelf.a
[59/255] Building C object apps/sel4test-driver/util_libs/libfdt/CMakeFiles/fdt.dir/fdt.c.obj
[60/255] Linking C static library apps/sel4test-driver/util_libs/libcpio/libcpio.a
[61/255] Generating linker.lds_pp
[62/255] Building C object apps/sel4test-driver/util_libs/libfdt/CMakeFiles/fdt.dir/fdt_addresses.c.obj
[63/255] Building C object kernel/CMakeFiles/kernel_i_wrapper_temp_lib.dir/kernel_all_copy.c.obj
[64/255] Generating kernel_all.i
[65/255] Generating circular_includes_valid
[66/255] Building C object apps/sel4test-driver/util_libs/libfdt/CMakeFiles/fdt.dir/fdt_overlay.c.obj
[67/255] Generate invocation header sel4_arch_include/loongarch64/sel4/sel4_arch/invocation.h
[68/255] Building C object apps/sel4test-driver/util_libs/libfdt/CMakeFiles/fdt.dir/fdt_empty_tree.c.obj
[69/255] Building C object apps/sel4test-driver/util_libs/libfdt/CMakeFiles/fdt.dir/fdt_ro.c.obj
[70/255] Building ASM object kernel/CMakeFiles/kernel.elf.dir/src/arch/loongarch/head.S.obj
FAILED: kernel/CMakeFiles/kernel.elf.dir/src/arch/loongarch/head.S.obj 
/usr/bin/ccache /opt/cross-tools/bin/loongarch64-unknown-linux-gnu-gcc --sysroot=/home/leon/download/sel4-test/test  -I/home/leon/download/sel4-test/kernel/include/plat/default -I/home/leon/download/sel4-test/kernel/include -I/home/leon/download/sel4-test/kernel/include/64 -I/home/leon/download/sel4-test/kernel/include/arch/loongarch -I/home/leon/download/sel4-test/kernel/include/arch/loongarch/arch/64 -I/home/leon/download/sel4-test/kernel/include/plat/3A5000 -I/home/leon/download/sel4-test/kernel/include/plat/3A5000/plat/64 -I/home/leon/download/sel4-test/kernel/libsel4/include -I/home/leon/download/sel4-test/kernel/libsel4/arch_include/loongarch -I/home/leon/download/sel4-test/kernel/libsel4/sel4_arch_include/loongarch64 -I/home/leon/download/sel4-test/kernel/libsel4/sel4_plat_include/3A5000 -I/home/leon/download/sel4-test/kernel/libsel4/mode_include/64 -I/home/leon/download/sel4-test/test/kernel/gen_config -I/home/leon/download/sel4-test/test/kernel/autoconf -I/home/leon/download/sel4-test/test/kernel/gen_headers -I/home/leon/download/sel4-test/test/kernel/generated -D__KERNEL_64__ -march=loongarch64 -mabi=lp64d -mtune=loongarch64 -O2 -g -DNDEBUG -std=c99 -Wall -Werror -Wstrict-prototypes -Wmissing-prototypes -Wnested-externs -Wmissing-declarations -Wundef -Wpointer-arith -Wno-nonnull -nostdinc -ffreestanding -fno-stack-protector -fno-asynchronous-unwind-tables -fno-common -O2 -nostdlib -fno-pic -fno-pie -DDEBUG -g -ggdb -MD -MT kernel/CMakeFiles/kernel.elf.dir/src/arch/loongarch/head.S.obj -MF kernel/CMakeFiles/kernel.elf.dir/src/arch/loongarch/head.S.obj.d -o kernel/CMakeFiles/kernel.elf.dir/src/arch/loongarch/head.S.obj -c /home/leon/download/sel4-test/kernel/src/arch/loongarch/head.S
/home/leon/download/sel4-test/kernel/src/arch/loongarch/head.S: Assembler messages:
/home/leon/download/sel4-test/kernel/src/arch/loongarch/head.S:67: 错误：no match insn: li.d	$r3,(_THREAD_SIZE-32-PT_SIZE)
/home/leon/download/sel4-test/kernel/src/arch/loongarch/head.S:69: 错误：no match insn: set_saved_sp	$r3,$r12,$r13
[71/255] Building ASM object kernel/CMakeFiles/kernel.elf.dir/src/arch/loongarch/traps.S.obj
[72/255] Building ASM object apps/sel4test-driver/sel4runtime/CMakeFiles/sel4runtime.dir/crt/sel4_arch/loongarch64/crtn.S.obj
[73/255] Building ASM object apps/sel4test-driver/sel4runtime/CMakeFiles/sel4runtime.dir/crt/sel4_arch/loongarch64/crti.S.obj
[74/255] Building C object kernel/CMakeFiles/kernel.elf.dir/kernel_all.c.obj
FAILED: kernel/CMakeFiles/kernel.elf.dir/kernel_all.c.obj 
/usr/bin/ccache /opt/cross-tools/bin/loongarch64-unknown-linux-gnu-gcc --sysroot=/home/leon/download/sel4-test/test  -I/home/leon/download/sel4-test/kernel/include/plat/default -I/home/leon/download/sel4-test/kernel/include -I/home/leon/download/sel4-test/kernel/include/64 -I/home/leon/download/sel4-test/kernel/include/arch/loongarch -I/home/leon/download/sel4-test/kernel/include/arch/loongarch/arch/64 -I/home/leon/download/sel4-test/kernel/include/plat/3A5000 -I/home/leon/download/sel4-test/kernel/include/plat/3A5000/plat/64 -I/home/leon/download/sel4-test/kernel/libsel4/include -I/home/leon/download/sel4-test/kernel/libsel4/arch_include/loongarch -I/home/leon/download/sel4-test/kernel/libsel4/sel4_arch_include/loongarch64 -I/home/leon/download/sel4-test/kernel/libsel4/sel4_plat_include/3A5000 -I/home/leon/download/sel4-test/kernel/libsel4/mode_include/64 -I/home/leon/download/sel4-test/test/kernel/gen_config -I/home/leon/download/sel4-test/test/kernel/autoconf -I/home/leon/download/sel4-test/test/kernel/gen_headers -I/home/leon/download/sel4-test/test/kernel/generated -D__KERNEL_64__ -march=loongarch64 -mabi=lp64d -mtune=loongarch64 -O2 -g -DNDEBUG -std=c99 -Wall -Werror -Wstrict-prototypes -Wmissing-prototypes -Wnested-externs -Wmissing-declarations -Wundef -Wpointer-arith -Wno-nonnull -nostdinc -ffreestanding -fno-stack-protector -fno-asynchronous-unwind-tables -fno-common -O2 -nostdlib -fno-pic -fno-pie -DDEBUG -g -ggdb -MD -MT kernel/CMakeFiles/kernel.elf.dir/kernel_all.c.obj -MF kernel/CMakeFiles/kernel.elf.dir/kernel_all.c.obj.d -o kernel/CMakeFiles/kernel.elf.dir/kernel_all.c.obj -c /home/leon/download/sel4-test/test/kernel/kernel_all.c
In file included from /home/leon/download/sel4-test/kernel/include/kernel/thread.h:12,
                 from /home/leon/download/sel4-test/kernel/include/api/debug.h:16,
                 from /home/leon/download/sel4-test/kernel/include/api/syscall.h:15,
                 from /home/leon/download/sel4-test/kernel/src/api/faults.c:10:
/home/leon/download/sel4-test/kernel/include/arch/loongarch/arch/machine.h: 在函数‘local_irq_disable’中:
/home/leon/download/sel4-test/kernel/include/arch/loongarch/arch/machine.h:1357:9: 错误：unknown type name ‘__uint32_t’; did you mean ‘uint32_t’?
 1357 |         __uint32_t flags = 0;
      |         ^~~~~~~~~~
      |         uint32_t
In file included from /home/leon/download/sel4-test/kernel/include/api/syscall.h:15,
                 from /home/leon/download/sel4-test/kernel/src/api/faults.c:10:
/home/leon/download/sel4-test/kernel/include/api/debug.h: 在函数‘debug_printUserState’中:
/home/leon/download/sel4-test/kernel/include/api/debug.h:73:46: 错误：implicit declaration of function ‘getRestartPC’; did you mean ‘updateRestartPC’? [-Werror=implicit-function-declaration]
   73 |     printf("Next instruction adress: %lx\n", getRestartPC(tptr));
      |                                              ^~~~~~~~~~~~
      |                                              updateRestartPC
/home/leon/download/sel4-test/kernel/include/api/debug.h:73:46: 错误：对‘getRestartPC’的嵌套的外部声明 [-Werror=nested-externs]
/home/leon/download/sel4-test/kernel/include/api/debug.h:73:12: 错误：格式 ‘%lx’ expects argument of type ‘long unsigned int’, but argument 2 has type ‘int’ [-Werror=format=]
   73 |     printf("Next instruction adress: %lx\n", getRestartPC(tptr));
      |            ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~  ~~~~~~~~~~~~~~~~~~
      |                                              |
      |                                              int
/home/leon/download/sel4-test/kernel/include/api/debug.h: 在函数‘debug_printTCB’中:
/home/leon/download/sel4-test/kernel/include/api/debug.h:117:43: 错误：将一个整数转换为大小不同的指针 [-Werror=int-to-pointer-cast]
  117 |     printf("%15s\t%p\t%20lu\t%lu", state, (void *) getRestartPC(tcb), tcb->tcbPriority, core);
      |                                           ^
In file included from /home/leon/download/sel4-test/kernel/include/kernel/traps.h:11,
                 from /home/leon/download/sel4-test/kernel/src/api/syscall.c:25:
/home/leon/download/sel4-test/kernel/include/arch/loongarch/arch/kernel/traps.h: 在文件作用域：
/home/leon/download/sel4-test/kernel/include/arch/loongarch/arch/kernel/traps.h:17:18: 错误：expected ‘;’ before ‘void’
   17 | extern asmlinkage void handle_ade(void);
      |                  ^~~~~
      |                  ;
/home/leon/download/sel4-test/kernel/include/arch/loongarch/arch/kernel/traps.h:18:18: 错误：expected ‘;’ before ‘void’
   18 | extern asmlinkage void handle_ale(void);
      |                  ^~~~~
      |                  ;
/home/leon/download/sel4-test/kernel/include/arch/loongarch/arch/kernel/traps.h:19:18: 错误：expected ‘;’ before ‘void’
   19 | extern asmlinkage void handle_sys(void);
      |                  ^~~~~
      |                  ;
/home/leon/download/sel4-test/kernel/include/arch/loongarch/arch/kernel/traps.h:20:18: 错误：expected ‘;’ before ‘void’
   20 | extern asmlinkage void handle_bp(void);
      |                  ^~~~~
      |                  ;
/home/leon/download/sel4-test/kernel/include/arch/loongarch/arch/kernel/traps.h:21:18: 错误：expected ‘;’ before ‘void’
   21 | extern asmlinkage void handle_ri(void);
      |                  ^~~~~
      |                  ;
/home/leon/download/sel4-test/kernel/include/arch/loongarch/arch/kernel/traps.h:22:18: 错误：expected ‘;’ before ‘void’
   22 | extern asmlinkage void handle_fpu(void);
      |                  ^~~~~
      |                  ;
/home/leon/download/sel4-test/kernel/include/arch/loongarch/arch/kernel/traps.h:23:18: 错误：expected ‘;’ before ‘void’
   23 | extern asmlinkage void handle_fpe(void);
      |                  ^~~~~
      |                  ;
/home/leon/download/sel4-test/kernel/include/arch/loongarch/arch/kernel/traps.h:24:18: 错误：expected ‘;’ before ‘void’
   24 | extern asmlinkage void handle_lbt(void);
      |                  ^~~~~
      |                  ;
/home/leon/download/sel4-test/kernel/include/arch/loongarch/arch/kernel/traps.h:25:18: 错误：expected ‘;’ before ‘void’
   25 | extern asmlinkage void handle_lsx(void);
      |                  ^~~~~
      |                  ;
/home/leon/download/sel4-test/kernel/include/arch/loongarch/arch/kernel/traps.h:26:18: 错误：expected ‘;’ before ‘void’
   26 | extern asmlinkage void handle_lasx(void);
      |                  ^~~~~
      |                  ;
/home/leon/download/sel4-test/kernel/include/arch/loongarch/arch/kernel/traps.h:27:18: 错误：expected ‘;’ before ‘void’
   27 | extern asmlinkage void handle_reserved(void);
      |                  ^~~~~
      |                  ;
/home/leon/download/sel4-test/kernel/include/arch/loongarch/arch/kernel/traps.h:28:18: 错误：expected ‘;’ before ‘void’
   28 | extern asmlinkage void handle_watch(void);
      |                  ^~~~~
      |                  ;
/home/leon/download/sel4-test/kernel/include/arch/loongarch/arch/kernel/traps.h:29:18: 错误：expected ‘;’ before ‘void’
   29 | extern asmlinkage void handle_vint(void);
      |                  ^~~~~
      |                  ;
In file included from /home/leon/download/sel4-test/kernel/src/api/syscall.c:25:
/home/leon/download/sel4-test/kernel/include/kernel/traps.h: 在函数‘c_entry_hook’中:
/home/leon/download/sel4-test/kernel/include/kernel/traps.h:19:5: 错误：implicit declaration of function ‘arch_c_entry_hook’; did you mean ‘c_entry_hook’? [-Werror=implicit-function-declaration]
   19 |     arch_c_entry_hook();
      |     ^~~~~~~~~~~~~~~~~
      |     c_entry_hook
/home/leon/download/sel4-test/kernel/include/kernel/traps.h:19:5: 错误：对‘arch_c_entry_hook’的嵌套的外部声明 [-Werror=nested-externs]
/home/leon/download/sel4-test/kernel/include/kernel/traps.h: 在函数‘c_exit_hook’中:
/home/leon/download/sel4-test/kernel/include/kernel/traps.h:44:5: 错误：implicit declaration of function ‘arch_c_exit_hook’; did you mean ‘c_exit_hook’? [-Werror=implicit-function-declaration]
   44 |     arch_c_exit_hook();
      |     ^~~~~~~~~~~~~~~~
      |     c_exit_hook
/home/leon/download/sel4-test/kernel/include/kernel/traps.h:44:5: 错误：对‘arch_c_exit_hook’的嵌套的外部声明 [-Werror=nested-externs]
/home/leon/download/sel4-test/kernel/src/arch/loongarch/c_traps.c: 在文件作用域：
/home/leon/download/sel4-test/kernel/src/arch/loongarch/c_traps.c:22:23: 错误：‘restore_user_context’先前没有原型 [-Werror=missing-prototypes]
   22 | void VISIBLE NORETURN restore_user_context(void)
      |                       ^~~~~~~~~~~~~~~~~~~~
/home/leon/download/sel4-test/kernel/src/arch/loongarch/c_traps.c:102:23: 错误：‘c_handle_interrupt’先前没有原型 [-Werror=missing-prototypes]
  102 | void VISIBLE NORETURN c_handle_interrupt(void)
      |                       ^~~~~~~~~~~~~~~~~~
/home/leon/download/sel4-test/kernel/src/arch/loongarch/c_traps.c:114:23: 错误：‘c_handle_exception’先前没有原型 [-Werror=missing-prototypes]
  114 | void VISIBLE NORETURN c_handle_exception(void)
      |                       ^~~~~~~~~~~~~~~~~~
/home/leon/download/sel4-test/kernel/src/arch/loongarch/c_traps.c: 在函数‘c_handle_exception’中:
/home/leon/download/sel4-test/kernel/src/arch/loongarch/c_traps.c:120:21: 错误：隐式声明函数‘read_scause’ [-Werror=implicit-function-declaration]
  120 |     word_t scause = read_scause();
      |                     ^~~~~~~~~~~
/home/leon/download/sel4-test/kernel/src/arch/loongarch/c_traps.c:120:21: 错误：对‘read_scause’的嵌套的外部声明 [-Werror=nested-externs]
/home/leon/download/sel4-test/kernel/src/arch/loongarch/c_traps.c: 在文件作用域：
/home/leon/download/sel4-test/kernel/src/arch/loongarch/c_traps.c:173:14: 错误：‘c_handle_fastpath_reply_recv’先前没有原型 [-Werror=missing-prototypes]
  173 | void VISIBLE c_handle_fastpath_reply_recv(word_t cptr, word_t msgInfo)
      |              ^~~~~~~~~~~~~~~~~~~~~~~~~~~~
/home/leon/download/sel4-test/kernel/src/arch/loongarch/c_traps.c:192:14: 错误：‘c_handle_fastpath_call’先前没有原型 [-Werror=missing-prototypes]
  192 | void VISIBLE c_handle_fastpath_call(word_t cptr, word_t msgInfo)
      |              ^~~~~~~~~~~~~~~~~~~~~~
/home/leon/download/sel4-test/kernel/src/arch/loongarch/c_traps.c:208:23: 错误：‘c_handle_syscall’先前没有原型 [-Werror=missing-prototypes]
  208 | void VISIBLE NORETURN c_handle_syscall(word_t cptr, word_t msgInfo, syscall_t syscall)
      |                       ^~~~~~~~~~~~~~~~
In file included from /home/leon/download/sel4-test/kernel/src/arch/loongarch/kernel/boot.c:19:
/home/leon/download/sel4-test/kernel/include/arch/loongarch/arch/machine/tlb.h:10:8: 错误：在‘init_tlb’的声明中，类型默认为‘int’ [-Werror=implicit-int]
   10 | extern init_tlb(void);
      |        ^~~~~~~~
/home/leon/download/sel4-test/kernel/include/arch/loongarch/arch/machine/tlb.h:188:30: 错误：‘struct mmu_gather’ declared inside parameter list will not be visible outside of this definition or declaration [-Werror]
  188 | static void tlb_flush(struct mmu_gather *tlb);
      |                              ^~~~~~~~~~
/home/leon/download/sel4-test/kernel/include/arch/loongarch/arch/machine/tlb.h:193:37: 错误：‘struct mmu_gather’ declared inside parameter list will not be visible outside of this definition or declaration [-Werror]
  193 | static inline void tlb_flush(struct mmu_gather *tlb)
      |                                     ^~~~~~~~~~
/home/leon/download/sel4-test/kernel/include/arch/loongarch/arch/machine/tlb.h:190:19: 错误：conflicting types for ‘tlb_flush’; have ‘void(struct mmu_gather *)’
  190 | #define tlb_flush tlb_flush
      |                   ^~~~~~~~~
/home/leon/download/sel4-test/kernel/include/arch/loongarch/arch/machine/tlb.h:193:20: 附注：in expansion of macro ‘tlb_flush’
  193 | static inline void tlb_flush(struct mmu_gather *tlb)
      |                    ^~~~~~~~~
/home/leon/download/sel4-test/kernel/include/arch/loongarch/arch/machine/tlb.h:188:13: 附注：previous declaration of ‘tlb_flush’ with type ‘void(struct mmu_gather *)’
  188 | static void tlb_flush(struct mmu_gather *tlb);
      |             ^~~~~~~~~
/home/leon/download/sel4-test/kernel/include/arch/loongarch/arch/machine/tlb.h: 在函数‘tlb_flush’中:
/home/leon/download/sel4-test/kernel/include/arch/loongarch/arch/machine/tlb.h:195:31: 错误：‘vma’的存储大小未知
  195 |         struct vm_area_struct vma;
      |                               ^~~
/home/leon/download/sel4-test/kernel/include/arch/loongarch/arch/machine/tlb.h:197:24: 错误：invalid use of undefined type ‘struct mmu_gather’
  197 |         vma.vm_mm = tlb->mm;
      |                        ^~
/home/leon/download/sel4-test/kernel/include/arch/loongarch/arch/machine/tlb.h:199:16: 错误：invalid use of undefined type ‘struct mmu_gather’
  199 |         if (tlb->fullmm) {
      |                ^~
/home/leon/download/sel4-test/kernel/include/arch/loongarch/arch/machine/tlb.h:200:17: 错误：隐式声明函数‘flush_tlb_mm’ [-Werror=implicit-function-declaration]
  200 |                 flush_tlb_mm(tlb->mm);
      |                 ^~~~~~~~~~~~
/home/leon/download/sel4-test/kernel/include/arch/loongarch/arch/machine/tlb.h:200:17: 错误：对‘flush_tlb_mm’的嵌套的外部声明 [-Werror=nested-externs]
/home/leon/download/sel4-test/kernel/include/arch/loongarch/arch/machine/tlb.h:200:33: 错误：invalid use of undefined type ‘struct mmu_gather’
  200 |                 flush_tlb_mm(tlb->mm);
      |                                 ^~
/home/leon/download/sel4-test/kernel/include/arch/loongarch/arch/machine/tlb.h:204:9: 错误：隐式声明函数‘flush_tlb_range’ [-Werror=implicit-function-declaration]
  204 |         flush_tlb_range(&vma, tlb->start, tlb->end);
      |         ^~~~~~~~~~~~~~~
/home/leon/download/sel4-test/kernel/include/arch/loongarch/arch/machine/tlb.h:204:9: 错误：对‘flush_tlb_range’的嵌套的外部声明 [-Werror=nested-externs]
/home/leon/download/sel4-test/kernel/include/arch/loongarch/arch/machine/tlb.h:204:34: 错误：invalid use of undefined type ‘struct mmu_gather’
  204 |         flush_tlb_range(&vma, tlb->start, tlb->end);
      |                                  ^~
/home/leon/download/sel4-test/kernel/include/arch/loongarch/arch/machine/tlb.h:204:46: 错误：invalid use of undefined type ‘struct mmu_gather’
  204 |         flush_tlb_range(&vma, tlb->start, tlb->end);
      |                                              ^~
/home/leon/download/sel4-test/kernel/include/arch/loongarch/arch/machine/tlb.h:195:31: 错误：未使用的变量‘vma’ [-Werror=unused-variable]
  195 |         struct vm_area_struct vma;
      |                               ^~~
/home/leon/download/sel4-test/kernel/src/arch/loongarch/kernel/boot.c: 在函数‘init_cpu’中:
/home/leon/download/sel4-test/kernel/src/arch/loongarch/kernel/boot.c:137:10: 错误：‘i’未声明(在此函数内第一次使用)
  137 |     for (i = 0; i < 64; i++)
      |          ^
/home/leon/download/sel4-test/kernel/src/arch/loongarch/kernel/boot.c:137:10: 附注：每个未声明的标识符在其出现的函数内只报告一次
/home/leon/download/sel4-test/kernel/src/arch/loongarch/kernel/boot.c:146:5: 错误：隐式声明函数‘initLocalIRQController’ [-Werror=implicit-function-declaration]
  146 |     initLocalIRQController();//考虑删去
      |     ^~~~~~~~~~~~~~~~~~~~~~
/home/leon/download/sel4-test/kernel/src/arch/loongarch/kernel/boot.c:146:5: 错误：对‘initLocalIRQController’的嵌套的外部声明 [-Werror=nested-externs]
/home/leon/download/sel4-test/kernel/src/arch/loongarch/kernel/boot.c:148:5: 错误：隐式声明函数‘initTimer’ [-Werror=implicit-function-declaration]
  148 |     initTimer();
      |     ^~~~~~~~~
/home/leon/download/sel4-test/kernel/src/arch/loongarch/kernel/boot.c:148:5: 错误：对‘initTimer’的嵌套的外部声明 [-Werror=nested-externs]
/home/leon/download/sel4-test/kernel/src/arch/loongarch/kernel/boot.c: 在函数‘init_plat’中:
/home/leon/download/sel4-test/kernel/src/arch/loongarch/kernel/boot.c:163:5: 错误：隐式声明函数‘initIRQController’ [-Werror=implicit-function-declaration]
  163 |     initIRQController();
      |     ^~~~~~~~~~~~~~~~~
/home/leon/download/sel4-test/kernel/src/arch/loongarch/kernel/boot.c:163:5: 错误：对‘initIRQController’的嵌套的外部声明 [-Werror=nested-externs]
/home/leon/download/sel4-test/kernel/src/arch/loongarch/kernel/vspace.c: 在文件作用域：
/home/leon/download/sel4-test/kernel/src/arch/loongarch/kernel/vspace.c:32:14: 错误：expected ‘,’ or ‘}’ before ‘;’ token
   32 |     PTE_LARGE;
      |              ^
/home/leon/download/sel4-test/kernel/src/arch/loongarch/kernel/vspace.c:69:57: 错误：未知的类型名‘PTE_TYPE’
   69 | static pte_t pte_next(word_t phys_addr, bool_t is_leaf, PTE_TYPE pte_type)
      |                                                         ^~~~~~~~
In file included from /home/leon/download/sel4-test/kernel/include/assert.h:10,
                 from /home/leon/download/sel4-test/kernel/include/arch/loongarch/arch/types.h:11,
                 from /home/leon/download/sel4-test/kernel/include/basic_types.h:10,
                 from /home/leon/download/sel4-test/kernel/include/types.h:9,
                 from /home/leon/download/sel4-test/kernel/src/api/faults.c:8:
/home/leon/download/sel4-test/kernel/src/arch/loongarch/kernel/vspace.c: 在函数‘map_kernel_frame’中:
/home/leon/download/sel4-test/kernel/src/arch/loongarch/kernel/vspace.c:106:35: 错误：implicit declaration of function ‘RISCV_GET_LVL_PGSIZE_BITS’; did you mean ‘LA_GET_LVL_PGSIZE_BITS’? [-Werror=implicit-function-declaration]
  106 |         paddr = ROUND_DOWN(paddr, RISCV_GET_LVL_PGSIZE_BITS(1));
      |                                   ^~~~~~~~~~~~~~~~~~~~~~~~~
/home/leon/download/sel4-test/kernel/include/util.h:42:36: 附注：in definition of macro ‘ROUND_DOWN’
   42 | #define ROUND_DOWN(n, b) (((n) >> (b)) << (b))
      |                                    ^
/home/leon/download/sel4-test/kernel/src/arch/loongarch/kernel/vspace.c:106:35: 错误：对‘RISCV_GET_LVL_PGSIZE_BITS’的嵌套的外部声明 [-Werror=nested-externs]
  106 |         paddr = ROUND_DOWN(paddr, RISCV_GET_LVL_PGSIZE_BITS(1));
      |                                   ^~~~~~~~~~~~~~~~~~~~~~~~~
/home/leon/download/sel4-test/kernel/include/util.h:42:36: 附注：in definition of macro ‘ROUND_DOWN’
   42 | #define ROUND_DOWN(n, b) (((n) >> (b)) << (b))
      |                                    ^
In file included from /home/leon/download/sel4-test/kernel/include/arch/loongarch/arch/types.h:11,
                 from /home/leon/download/sel4-test/kernel/include/basic_types.h:10,
                 from /home/leon/download/sel4-test/kernel/include/types.h:9,
                 from /home/leon/download/sel4-test/kernel/src/api/faults.c:8:
/home/leon/download/sel4-test/kernel/src/arch/loongarch/kernel/vspace.c:107:25: 错误：implicit declaration of function ‘RISCV_GET_LVL_PGSIZE’; did you mean ‘LA_GET_LVL_PGSIZE’? [-Werror=implicit-function-declaration]
  107 |         assert((paddr % RISCV_GET_LVL_PGSIZE(1)) == 0);
      |                         ^~~~~~~~~~~~~~~~~~~~
/home/leon/download/sel4-test/kernel/include/assert.h:32:15: 附注：in definition of macro ‘assert’
   32 |         if (!(expr)) { \
      |               ^~~~
/home/leon/download/sel4-test/kernel/src/arch/loongarch/kernel/vspace.c:107:25: 错误：对‘RISCV_GET_LVL_PGSIZE’的嵌套的外部声明 [-Werror=nested-externs]
  107 |         assert((paddr % RISCV_GET_LVL_PGSIZE(1)) == 0);
      |                         ^~~~~~~~~~~~~~~~~~~~
/home/leon/download/sel4-test/kernel/include/assert.h:32:15: 附注：in definition of macro ‘assert’
   32 |         if (!(expr)) { \
      |               ^~~~
/home/leon/download/sel4-test/kernel/src/arch/loongarch/kernel/vspace.c:108:9: 错误：‘kernel_image_level2_dev_pt’未声明(在此函数内第一次使用)
  108 |         kernel_image_level2_dev_pt[RISCV_GET_PT_INDEX(vaddr, 1)] = pte_next(paddr, true);
      |         ^~~~~~~~~~~~~~~~~~~~~~~~~~
/home/leon/download/sel4-test/kernel/src/arch/loongarch/kernel/vspace.c:108:36: 错误：implicit declaration of function ‘RISCV_GET_PT_INDEX’; did you mean ‘LA_GET_PT_INDEX’? [-Werror=implicit-function-declaration]
  108 |         kernel_image_level2_dev_pt[RISCV_GET_PT_INDEX(vaddr, 1)] = pte_next(paddr, true);
      |                                    ^~~~~~~~~~~~~~~~~~
      |                                    LA_GET_PT_INDEX
/home/leon/download/sel4-test/kernel/src/arch/loongarch/kernel/vspace.c:108:36: 错误：对‘RISCV_GET_PT_INDEX’的嵌套的外部声明 [-Werror=nested-externs]
/home/leon/download/sel4-test/kernel/src/arch/loongarch/kernel/vspace.c:108:68: 错误：implicit declaration of function ‘pte_next’; did you mean ‘pte_new’? [-Werror=implicit-function-declaration]
  108 |         kernel_image_level2_dev_pt[RISCV_GET_PT_INDEX(vaddr, 1)] = pte_next(paddr, true);
      |                                                                    ^~~~~~~~
      |                                                                    pte_new
/home/leon/download/sel4-test/kernel/src/arch/loongarch/kernel/vspace.c:108:68: 错误：对‘pte_next’的嵌套的外部声明 [-Werror=nested-externs]
/home/leon/download/sel4-test/kernel/src/arch/loongarch/kernel/vspace.c:113:9: 错误：‘kernel_root_pageTable’未声明(在此函数内第一次使用)
  113 |         kernel_root_pageTable[RISCV_GET_PT_INDEX(vaddr, 0)] = pte_next(paddr, true);
      |         ^~~~~~~~~~~~~~~~~~~~~
In file included from /home/leon/download/sel4-test/kernel/include/api/syscall.h:10,
                 from /home/leon/download/sel4-test/kernel/src/api/faults.c:10:
/home/leon/download/sel4-test/kernel/src/arch/loongarch/kernel/vspace.c: 在函数‘map_kernel_window’中:
/home/leon/download/sel4-test/kernel/src/arch/loongarch/kernel/vspace.c:132:107: 错误：‘kernel_level3_pageTable’未声明(在此函数内第一次使用)
  132 |             kernel_level1_pd[LA_GET_PT_INDEX(pptr, 1) * (LA_GET_PT_INDEX(pptr, 0) + 1)] = kpptr_to_paddr(&kernel_level3_pageTable[LA_GET_PT_INDEX(pptr, 2) * (LA_GET_PT_INDEX(pptr, 1) + 1) * (LA_GET_PT_INDEX(pptr, 0) + 1)]);
      |                                                                                                           ^~~~~~~~~~~~~~~~~~~~~~~
/home/leon/download/sel4-test/kernel/include/machine.h:54:42: 附注：in definition of macro ‘kpptr_to_paddr’
   54 | #define kpptr_to_paddr(x)  addrFromKPPtr(x)
      |                                          ^
/home/leon/download/sel4-test/kernel/src/arch/loongarch/kernel/vspace.c:134:55: 错误：将‘int’赋值给‘pte_t’ {或称 ‘struct pte’}时类型不兼容
  134 |                 kernel_pt[LA_GET_PT_INDEX(pptr, 2)] = pte_next(paddr, true, PTE_BASIC);
      |                                                       ^~~~~~~~
/home/leon/download/sel4-test/kernel/src/arch/loongarch/kernel/vspace.c: 在函数‘map_it_pt_cap’中:
/home/leon/download/sel4-test/kernel/src/arch/loongarch/kernel/vspace.c:173:5: 错误：隐式声明函数‘sfence’ [-Werror=implicit-function-declaration]
  173 |     sfence();
      |     ^~~~~~
/home/leon/download/sel4-test/kernel/src/arch/loongarch/kernel/vspace.c:173:5: 错误：对‘sfence’的嵌套的外部声明 [-Werror=nested-externs]
In file included from /home/leon/download/sel4-test/kernel/include/api/syscall.h:10,
                 from /home/leon/download/sel4-test/kernel/src/api/faults.c:10:
/home/leon/download/sel4-test/kernel/src/arch/loongarch/kernel/vspace.c: 在函数‘activate_kernel_vspace’中:
/home/leon/download/sel4-test/kernel/src/arch/loongarch/kernel/vspace.c:286:35: 错误：‘kernel_root_pageTable’未声明(在此函数内第一次使用)
  286 |     setVSpaceRoot(kpptr_to_paddr(&kernel_root_pageTable), 0);
      |                                   ^~~~~~~~~~~~~~~~~~~~~
/home/leon/download/sel4-test/kernel/include/machine.h:54:42: 附注：in definition of macro ‘kpptr_to_paddr’
   54 | #define kpptr_to_paddr(x)  addrFromKPPtr(x)
      |                                          ^
/home/leon/download/sel4-test/kernel/src/arch/loongarch/kernel/vspace.c: 在函数‘copyGlobalMappings’中:
/home/leon/download/sel4-test/kernel/src/arch/loongarch/kernel/vspace.c:330:35: 错误：‘kernel_root_pageTable’未声明(在此函数内第一次使用)
  330 |     pte_t *global_kernel_vspace = kernel_root_pageTable;
      |                                   ^~~~~~~~~~~~~~~~~~~~~
/home/leon/download/sel4-test/kernel/src/arch/loongarch/kernel/vspace.c: 在函数‘handleVMFault’中:
/home/leon/download/sel4-test/kernel/src/arch/loongarch/kernel/vspace.c:400:12: 错误：隐式声明函数‘read_stval’ [-Werror=implicit-function-declaration]
  400 |     addr = read_stval();
      |            ^~~~~~~~~~
/home/leon/download/sel4-test/kernel/src/arch/loongarch/kernel/vspace.c:400:12: 错误：对‘read_stval’的嵌套的外部声明 [-Werror=nested-externs]
/home/leon/download/sel4-test/kernel/src/arch/loongarch/kernel/vspace.c: 在函数‘deleteASID’中:
/home/leon/download/sel4-test/kernel/src/arch/loongarch/kernel/vspace.c:479:9: 错误：隐式声明函数‘hwASIDFlush’ [-Werror=implicit-function-declaration]
  479 |         hwASIDFlush(asid);
      |         ^~~~~~~~~~~
/home/leon/download/sel4-test/kernel/src/arch/loongarch/kernel/vspace.c:479:9: 错误：对‘hwASIDFlush’的嵌套的外部声明 [-Werror=nested-externs]
In file included from /home/leon/download/sel4-test/kernel/include/api/syscall.h:10,
                 from /home/leon/download/sel4-test/kernel/src/api/faults.c:10:
/home/leon/download/sel4-test/kernel/src/arch/loongarch/kernel/vspace.c: 在函数‘setVMRoot’中:
/home/leon/download/sel4-test/kernel/src/arch/loongarch/kernel/vspace.c:567:39: 错误：‘kernel_root_pageTable’未声明(在此函数内第一次使用)
  567 |         setVSpaceRoot(kpptr_to_paddr(&kernel_root_pageTable), 0);
      |                                       ^~~~~~~~~~~~~~~~~~~~~
/home/leon/download/sel4-test/kernel/include/machine.h:54:42: 附注：in definition of macro ‘kpptr_to_paddr’
   54 | #define kpptr_to_paddr(x)  addrFromKPPtr(x)
      |                                          ^
/home/leon/download/sel4-test/kernel/src/arch/loongarch/kernel/vspace.c: 在函数‘decodeRISCVPageTableInvocation’中:
/home/leon/download/sel4-test/kernel/src/arch/loongarch/kernel/vspace.c:660:18: 错误：‘RISCVPageTableUnmap’ undeclared (first use in this function); did you mean ‘LOONGARCHPageTableUnmap’?
  660 |     if (label == RISCVPageTableUnmap) {
      |                  ^~~~~~~~~~~~~~~~~~~
      |                  LOONGARCHPageTableUnmap
In file included from /home/leon/download/sel4-test/kernel/include/assert.h:10,
                 from /home/leon/download/sel4-test/kernel/include/arch/loongarch/arch/types.h:11,
                 from /home/leon/download/sel4-test/kernel/include/basic_types.h:10,
                 from /home/leon/download/sel4-test/kernel/include/types.h:9,
                 from /home/leon/download/sel4-test/kernel/src/api/faults.c:8:
/home/leon/download/sel4-test/kernel/src/arch/loongarch/kernel/vspace.c:683:28: 错误：‘RISCVPageTableMap’未声明(在此函数内第一次使用)
  683 |     if (unlikely((label != RISCVPageTableMap))) {
      |                            ^~~~~~~~~~~~~~~~~
/home/leon/download/sel4-test/kernel/include/util.h:103:41: 附注：in definition of macro ‘unlikely’
  103 | #define unlikely(x) __builtin_expect(!!(x), 0)
      |                                         ^
/home/leon/download/sel4-test/kernel/src/arch/loongarch/kernel/vspace.c: 在函数‘decodeRISCVFrameInvocation’中:
/home/leon/download/sel4-test/kernel/src/arch/loongarch/kernel/vspace.c:779:10: 错误：‘RISCVPageMap’ undeclared (first use in this function); did you mean ‘RISCVPageBits’?
  779 |     case RISCVPageMap: {
      |          ^~~~~~~~~~~~
      |          RISCVPageBits
/home/leon/download/sel4-test/kernel/src/arch/loongarch/kernel/vspace.c:884:10: 错误：‘RISCVPageUnmap’未声明(在此函数内第一次使用)
  884 |     case RISCVPageUnmap: {
      |          ^~~~~~~~~~~~~~
/home/leon/download/sel4-test/kernel/src/arch/loongarch/kernel/vspace.c:889:10: 错误：‘RISCVPageGetAddress’ undeclared (first use in this function); did you mean ‘performPageGetAddress’?
  889 |     case RISCVPageGetAddress: {
      |          ^~~~~~~~~~~~~~~~~~~
      |          performPageGetAddress
/home/leon/download/sel4-test/kernel/src/arch/loongarch/kernel/vspace.c: 在函数‘decodeRISCVMMUInvocation’中:
/home/leon/download/sel4-test/kernel/src/arch/loongarch/kernel/vspace.c:931:22: 错误：‘RISCVASIDControlMakePool’ undeclared (first use in this function); did you mean ‘LOONGARCHASIDControlMakePool’?
  931 |         if (label != RISCVASIDControlMakePool) {
      |                      ^~~~~~~~~~~~~~~~~~~~~~~~
      |                      LOONGARCHASIDControlMakePool
/home/leon/download/sel4-test/kernel/src/arch/loongarch/kernel/vspace.c:999:22: 错误：‘RISCVASIDPoolAssign’ undeclared (first use in this function); did you mean ‘LOONGARCHASIDPoolAssign’?
  999 |         if (label != RISCVASIDPoolAssign) {
      |                      ^~~~~~~~~~~~~~~~~~~
      |                      LOONGARCHASIDPoolAssign
/home/leon/download/sel4-test/kernel/src/arch/loongarch/kernel/vspace.c: 在函数‘performPageTableInvocationUnmap’中:
/home/leon/download/sel4-test/kernel/src/arch/loongarch/kernel/vspace.c:1076:9: 错误：隐式声明函数‘clearMemory’ [-Werror=implicit-function-declaration]
 1076 |         clearMemory((void *)pt, seL4_PageTableBits);
      |         ^~~~~~~~~~~
/home/leon/download/sel4-test/kernel/src/arch/loongarch/kernel/vspace.c:1076:9: 错误：对‘clearMemory’的嵌套的外部声明 [-Werror=nested-externs]
/home/leon/download/sel4-test/kernel/src/arch/loongarch/machine/hardware.c: 在文件作用域：
/home/leon/download/sel4-test/kernel/src/arch/loongarch/machine/hardware.c:22:13: 错误：‘getRestartPC’先前没有原型 [-Werror=missing-prototypes]
   22 | word_t PURE getRestartPC(tcb_t *thread)
      |             ^~~~~~~~~~~~
/home/leon/download/sel4-test/kernel/src/arch/loongarch/machine/hardware.c:22:13: 错误：conflicting types for ‘getRestartPC’; have ‘word_t(tcb_t *)’ {或称 ‘long unsigned int(struct tcb *)’}
In file included from /home/leon/download/sel4-test/kernel/include/api/syscall.h:15,
                 from /home/leon/download/sel4-test/kernel/src/api/faults.c:10:
/home/leon/download/sel4-test/kernel/include/api/debug.h:73:46: 附注：previous implicit declaration of ‘getRestartPC’ with type ‘int()’
   73 |     printf("Next instruction adress: %lx\n", getRestartPC(tptr));
      |                                              ^~~~~~~~~~~~
/home/leon/download/sel4-test/kernel/src/arch/loongarch/machine/hardware.c:27:6: 错误：‘setNextPC’先前没有原型 [-Werror=missing-prototypes]
   27 | void setNextPC(tcb_t *thread, word_t v)
      |      ^~~~~~~~~
In file included from /home/leon/download/sel4-test/kernel/include/kernel/thread.h:12,
                 from /home/leon/download/sel4-test/kernel/include/api/debug.h:16,
                 from /home/leon/download/sel4-test/kernel/include/api/syscall.h:15,
                 from /home/leon/download/sel4-test/kernel/src/api/faults.c:10:
/home/leon/download/sel4-test/kernel/src/arch/loongarch/machine/hardware.c: 在函数‘setup_pw’中:
/home/leon/download/sel4-test/kernel/include/arch/loongarch/arch/machine.h:366:59: 错误：‘CSR_PWCL_DIR3BASE_SHIFT’ undeclared (first use in this function); did you mean ‘CSR_PWCH_DIR3BASE_SHIFT’?
  366 | #define  CSR_PWCH_DIR3BASE              (UL_CONST(0x0) << CSR_PWCL_DIR3BASE_SHIFT)
      |                                                           ^~~~~~~~~~~~~~~~~~~~~~~
/home/leon/download/sel4-test/kernel/include/arch/loongarch/arch/machine.h:373:55: 附注：in expansion of macro ‘CSR_PWCH_DIR3BASE’
  373 | #define  INIT_CSR_PWCH          (CSR_PWCH_DIR3WIDTH | CSR_PWCH_DIR3BASE | CSR_PWCH_DIR2WIDTH | CSR_PWCH_DIR2BASE)
      |                                                       ^~~~~~~~~~~~~~~~~
/home/leon/download/sel4-test/kernel/src/arch/loongarch/machine/hardware.c:53:16: 附注：in expansion of macro ‘INIT_CSR_PWCH’
   53 |     csr_writeq(INIT_CSR_PWCH, LOONGARCH_CSR_PWCH);
      |                ^~~~~~~~~~~~~
/home/leon/download/sel4-test/kernel/include/arch/loongarch/arch/machine.h:372:60: 错误：‘CSR_PWCL_DIR2BASE_SHIFT’ undeclared (first use in this function); did you mean ‘CSR_PWCL_DIR1BASE_SHIFT’?
  372 | #define  CSR_PWCH_DIR2BASE              (UL_CONST(0x24) << CSR_PWCL_DIR2BASE_SHIFT)
      |                                                            ^~~~~~~~~~~~~~~~~~~~~~~
/home/leon/download/sel4-test/kernel/include/arch/loongarch/arch/machine.h:373:96: 附注：in expansion of macro ‘CSR_PWCH_DIR2BASE’
  373 | #define  INIT_CSR_PWCH          (CSR_PWCH_DIR3WIDTH | CSR_PWCH_DIR3BASE | CSR_PWCH_DIR2WIDTH | CSR_PWCH_DIR2BASE)
      |                                                                                                ^~~~~~~~~~~~~~~~~
/home/leon/download/sel4-test/kernel/src/arch/loongarch/machine/hardware.c:53:16: 附注：in expansion of macro ‘INIT_CSR_PWCH’
   53 |     csr_writeq(INIT_CSR_PWCH, LOONGARCH_CSR_PWCH);
      |                ^~~~~~~~~~~~~
/home/leon/download/sel4-test/kernel/src/arch/loongarch/machine/hardware.c: 在函数‘getActiveIRQ’中:
/home/leon/download/sel4-test/kernel/src/arch/loongarch/machine/hardware.c:103:18: 错误：隐式声明函数‘read_sip’ [-Werror=implicit-function-declaration]
  103 |     word_t sip = read_sip();
      |                  ^~~~~~~~
/home/leon/download/sel4-test/kernel/src/arch/loongarch/machine/hardware.c:103:18: 错误：对‘read_sip’的嵌套的外部声明 [-Werror=nested-externs]
In file included from /home/leon/download/sel4-test/kernel/include/assert.h:10,
                 from /home/leon/download/sel4-test/kernel/include/arch/loongarch/arch/types.h:11,
                 from /home/leon/download/sel4-test/kernel/include/basic_types.h:10,
                 from /home/leon/download/sel4-test/kernel/include/types.h:9,
                 from /home/leon/download/sel4-test/kernel/src/api/faults.c:8:
/home/leon/download/sel4-test/kernel/src/arch/loongarch/machine/hardware.c:104:19: 错误：‘SIP_SEIP’未声明(在此函数内第一次使用)
  104 |     if (sip & BIT(SIP_SEIP)) {
      |                   ^~~~~~~~
/home/leon/download/sel4-test/kernel/include/util.h:39:33: 附注：in definition of macro ‘BIT’
   39 | #define BIT(n) (UL_CONST(1) << (n))
      |                                 ^
/home/leon/download/sel4-test/kernel/src/arch/loongarch/machine/hardware.c:116:26: 错误：‘SIP_STIP’未声明(在此函数内第一次使用)
  116 |     } else if (sip & BIT(SIP_STIP)) {
      |                          ^~~~~~~~
/home/leon/download/sel4-test/kernel/include/util.h:39:33: 附注：in definition of macro ‘BIT’
   39 | #define BIT(n) (UL_CONST(1) << (n))
      |                                 ^
/home/leon/download/sel4-test/kernel/src/arch/loongarch/machine/hardware.c: 在文件作用域：
/home/leon/download/sel4-test/kernel/src/arch/loongarch/machine/hardware.c:149:6: 错误：‘setIRQTrigger’先前没有原型 [-Werror=missing-prototypes]
  149 | void setIRQTrigger(irq_t irq, bool_t edge_triggered)
      |      ^~~~~~~~~~~~~
In file included from /home/leon/download/sel4-test/kernel/include/assert.h:10,
                 from /home/leon/download/sel4-test/kernel/include/arch/loongarch/arch/types.h:11,
                 from /home/leon/download/sel4-test/kernel/include/basic_types.h:10,
                 from /home/leon/download/sel4-test/kernel/include/types.h:9,
                 from /home/leon/download/sel4-test/kernel/src/api/faults.c:8:
/home/leon/download/sel4-test/kernel/src/arch/loongarch/machine/hardware.c: 在函数‘isIRQPending’中:
/home/leon/download/sel4-test/kernel/src/arch/loongarch/machine/hardware.c:167:24: 错误：‘SIP_STIP’未声明(在此函数内第一次使用)
  167 |     return (sip & (BIT(SIP_STIP) | BIT(SIP_SEIP)));
      |                        ^~~~~~~~
/home/leon/download/sel4-test/kernel/include/util.h:39:33: 附注：in definition of macro ‘BIT’
   39 | #define BIT(n) (UL_CONST(1) << (n))
      |                                 ^
/home/leon/download/sel4-test/kernel/src/arch/loongarch/machine/hardware.c:167:40: 错误：‘SIP_SEIP’未声明(在此函数内第一次使用)
  167 |     return (sip & (BIT(SIP_STIP) | BIT(SIP_SEIP)));
      |                                        ^~~~~~~~
/home/leon/download/sel4-test/kernel/include/util.h:39:33: 附注：in definition of macro ‘BIT’
   39 | #define BIT(n) (UL_CONST(1) << (n))
      |                                 ^
/home/leon/download/sel4-test/kernel/src/arch/loongarch/machine/hardware.c: 在函数‘maskInterrupt’中:
/home/leon/download/sel4-test/kernel/src/arch/loongarch/machine/hardware.c:185:13: 错误：隐式声明函数‘clear_sie_mask’ [-Werror=implicit-function-declaration]
  185 |             clear_sie_mask(BIT(SIE_STIE));
      |             ^~~~~~~~~~~~~~
/home/leon/download/sel4-test/kernel/src/arch/loongarch/machine/hardware.c:185:13: 错误：对‘clear_sie_mask’的嵌套的外部声明 [-Werror=nested-externs]
In file included from /home/leon/download/sel4-test/kernel/include/assert.h:10,
                 from /home/leon/download/sel4-test/kernel/include/arch/loongarch/arch/types.h:11,
                 from /home/leon/download/sel4-test/kernel/include/basic_types.h:10,
                 from /home/leon/download/sel4-test/kernel/include/types.h:9,
                 from /home/leon/download/sel4-test/kernel/src/api/faults.c:8:
/home/leon/download/sel4-test/kernel/src/arch/loongarch/machine/hardware.c:185:32: 错误：‘SIE_STIE’未声明(在此函数内第一次使用)
  185 |             clear_sie_mask(BIT(SIE_STIE));
      |                                ^~~~~~~~
/home/leon/download/sel4-test/kernel/include/util.h:39:33: 附注：in definition of macro ‘BIT’
   39 | #define BIT(n) (UL_CONST(1) << (n))
      |                                 ^
/home/leon/download/sel4-test/kernel/src/arch/loongarch/machine/hardware.c:187:13: 错误：隐式声明函数‘set_sie_mask’ [-Werror=implicit-function-declaration]
  187 |             set_sie_mask(BIT(SIE_STIE));
      |             ^~~~~~~~~~~~
/home/leon/download/sel4-test/kernel/src/arch/loongarch/machine/hardware.c:187:13: 错误：对‘set_sie_mask’的嵌套的外部声明 [-Werror=nested-externs]
/home/leon/download/sel4-test/kernel/src/arch/loongarch/machine/hardware.c: 在文件作用域：
/home/leon/download/sel4-test/kernel/src/arch/loongarch/machine/hardware.c:239:16: 错误：‘initTimer’先前没有原型 [-Werror=missing-prototypes]
  239 | BOOT_CODE void initTimer(void)
      |                ^~~~~~~~~
/home/leon/download/sel4-test/kernel/src/arch/loongarch/machine/hardware.c:239:16: 错误：conflicting types for ‘initTimer’; have ‘void(void)’ [-Werror]
/home/leon/download/sel4-test/kernel/src/arch/loongarch/kernel/boot.c:148:5: 附注：previous implicit declaration of ‘initTimer’ with type ‘void(void)’
  148 |     initTimer();
      |     ^~~~~~~~~
/home/leon/download/sel4-test/kernel/src/arch/loongarch/machine/hardware.c:245:16: 错误：‘initLocalIRQController’先前没有原型 [-Werror=missing-prototypes]
  245 | BOOT_CODE void initLocalIRQController(void)
      |                ^~~~~~~~~~~~~~~~~~~~~~
/home/leon/download/sel4-test/kernel/src/arch/loongarch/machine/hardware.c:245:16: 错误：conflicting types for ‘initLocalIRQController’; have ‘void(void)’ [-Werror]
/home/leon/download/sel4-test/kernel/src/arch/loongarch/kernel/boot.c:146:5: 附注：previous implicit declaration of ‘initLocalIRQController’ with type ‘void(void)’
  146 |     initLocalIRQController();//考虑删去
      |     ^~~~~~~~~~~~~~~~~~~~~~
In file included from /home/leon/download/sel4-test/kernel/include/assert.h:10,
                 from /home/leon/download/sel4-test/kernel/include/arch/loongarch/arch/types.h:11,
                 from /home/leon/download/sel4-test/kernel/include/basic_types.h:10,
                 from /home/leon/download/sel4-test/kernel/include/types.h:9,
                 from /home/leon/download/sel4-test/kernel/src/api/faults.c:8:
/home/leon/download/sel4-test/kernel/src/arch/loongarch/machine/hardware.c: 在函数‘initLocalIRQController’中:
/home/leon/download/sel4-test/kernel/src/arch/loongarch/machine/hardware.c:254:22: 错误：‘SIE_SEIE’未声明(在此函数内第一次使用)
  254 |     set_sie_mask(BIT(SIE_SEIE) | BIT(SIE_STIE) | SMP_TERNARY(BIT(SIE_SSIE), 0));
      |                      ^~~~~~~~
/home/leon/download/sel4-test/kernel/include/util.h:39:33: 附注：in definition of macro ‘BIT’
   39 | #define BIT(n) (UL_CONST(1) << (n))
      |                                 ^
/home/leon/download/sel4-test/kernel/src/arch/loongarch/machine/hardware.c:254:38: 错误：‘SIE_STIE’未声明(在此函数内第一次使用)
  254 |     set_sie_mask(BIT(SIE_SEIE) | BIT(SIE_STIE) | SMP_TERNARY(BIT(SIE_SSIE), 0));
      |                                      ^~~~~~~~
/home/leon/download/sel4-test/kernel/include/util.h:39:33: 附注：in definition of macro ‘BIT’
   39 | #define BIT(n) (UL_CONST(1) << (n))
      |                                 ^
/home/leon/download/sel4-test/kernel/src/arch/loongarch/machine/hardware.c: 在文件作用域：
/home/leon/download/sel4-test/kernel/src/arch/loongarch/machine/hardware.c:257:16: 错误：‘initIRQController’先前没有原型 [-Werror=missing-prototypes]
  257 | BOOT_CODE void initIRQController(void)
      |                ^~~~~~~~~~~~~~~~~
/home/leon/download/sel4-test/kernel/src/arch/loongarch/machine/hardware.c:257:16: 错误：conflicting types for ‘initIRQController’; have ‘void(void)’ [-Werror]
/home/leon/download/sel4-test/kernel/src/arch/loongarch/kernel/boot.c:163:5: 附注：previous implicit declaration of ‘initIRQController’ with type ‘void(void)’
  163 |     initIRQController();
      |     ^~~~~~~~~~~~~~~~~
/home/leon/download/sel4-test/kernel/src/arch/loongarch/machine/hardware.c: 在函数‘handleSpuriousIRQ’中:
/home/leon/download/sel4-test/kernel/src/arch/loongarch/machine/hardware.c:276:12: 错误：格式 ‘%lx’ expects argument of type ‘long unsigned int’, but argument 2 has type ‘int’ [-Werror=format=]
  276 |     printf("Superior IRQ!! SIP %lx\n", read_sip());
      |            ^~~~~~~~~~~~~~~~~~~~~~~~~~  ~~~~~~~~~~
      |                                        |
      |                                        int
/home/leon/download/sel4-test/kernel/src/arch/loongarch/machine/hardware.c: 在文件作用域：
/home/leon/download/sel4-test/kernel/src/arch/loongarch/machine/hardware.c:296:16: 错误：‘set_exception_vector’先前没有原型 [-Werror=missing-prototypes]
  296 | BOOT_CODE void set_exception_vector(void)
      |                ^~~~~~~~~~~~~~~~~~~~
/home/leon/download/sel4-test/kernel/src/arch/loongarch/machine/hardware.c: 在函数‘set_handler’中:
/home/leon/download/sel4-test/kernel/src/arch/loongarch/machine/hardware.c:310:9: 错误：隐式声明函数‘local_flush_icache_range’ [-Werror=implicit-function-declaration]
  310 |         local_flush_icache_range(eentry + offset, eentry + offset + size);
      |         ^~~~~~~~~~~~~~~~~~~~~~~~
/home/leon/download/sel4-test/kernel/src/arch/loongarch/machine/hardware.c:310:9: 错误：对‘local_flush_icache_range’的嵌套的外部声明 [-Werror=nested-externs]
/home/leon/download/sel4-test/kernel/src/arch/loongarch/machine/hardware.c: 在函数‘trap_init’中:
/home/leon/download/sel4-test/kernel/src/arch/loongarch/machine/hardware.c:334:9: 错误：隐式声明函数‘cache_error_setup’ [-Werror=implicit-function-declaration]
  334 |         cache_error_setup();
      |         ^~~~~~~~~~~~~~~~~
/home/leon/download/sel4-test/kernel/src/arch/loongarch/machine/hardware.c:334:9: 错误：对‘cache_error_setup’的嵌套的外部声明 [-Werror=nested-externs]
/home/leon/download/sel4-test/kernel/src/arch/loongarch/machine/hardware.c: 在函数‘init_IRQ’中:
/home/leon/download/sel4-test/kernel/src/arch/loongarch/machine/hardware.c:348:9: 错误：implicit declaration of function ‘setup_IRQ’; did you mean ‘setup_pw’? [-Werror=implicit-function-declaration]
  348 |         setup_IRQ();//看不懂,TODO，需要看
      |         ^~~~~~~~~
      |         setup_pw
/home/leon/download/sel4-test/kernel/src/arch/loongarch/machine/hardware.c:348:9: 错误：对‘setup_IRQ’的嵌套的外部声明 [-Werror=nested-externs]
/home/leon/download/sel4-test/kernel/src/arch/loongarch/machine/hardware.c:357:14: 错误：‘i’未声明(在此函数内第一次使用)
  357 |         for (i = 0; i < NR_IRQS; i++)
      |              ^
/home/leon/download/sel4-test/kernel/src/arch/loongarch/machine/hardware.c:357:25: 错误：‘NR_IRQS’未声明(在此函数内第一次使用)
  357 |         for (i = 0; i < NR_IRQS; i++)
      |                         ^~~~~~~
/home/leon/download/sel4-test/kernel/src/arch/loongarch/machine/hardware.c:358:17: 错误：隐式声明函数‘irq_set_noprobe’ [-Werror=implicit-function-declaration]
  358 |                 irq_set_noprobe(i);
      |                 ^~~~~~~~~~~~~~~
/home/leon/download/sel4-test/kernel/src/arch/loongarch/machine/hardware.c:358:17: 错误：对‘irq_set_noprobe’的嵌套的外部声明 [-Werror=nested-externs]
/home/leon/download/sel4-test/kernel/src/arch/loongarch/machine/hardware.c:360:9: 错误：隐式声明函数‘for_each_possible_cpu’ [-Werror=implicit-function-declaration]
  360 |         for_each_possible_cpu(i) {
      |         ^~~~~~~~~~~~~~~~~~~~~
/home/leon/download/sel4-test/kernel/src/arch/loongarch/machine/hardware.c:360:9: 错误：对‘for_each_possible_cpu’的嵌套的外部声明 [-Werror=nested-externs]
/home/leon/download/sel4-test/kernel/src/arch/loongarch/machine/hardware.c:360:33: 错误：expected ‘;’ before ‘{’ token
  360 |         for_each_possible_cpu(i) {
      |                                 ^~
      |                                 ;
/home/leon/download/sel4-test/kernel/src/arch/loongarch/object/interrupt.c: 在函数‘Arch_decodeIRQControlInvocation’中:
/home/leon/download/sel4-test/kernel/src/arch/loongarch/object/interrupt.c:36:21: 错误：‘RISCVIRQIssueIRQHandlerTrigger’ undeclared (first use in this function); did you mean ‘LOONGARCHIRQIssueIRQHandlerTrigger’?
   36 |     if (invLabel == RISCVIRQIssueIRQHandlerTrigger) {
      |                     ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
      |                     LOONGARCHIRQIssueIRQHandlerTrigger
In file included from /home/leon/download/sel4-test/kernel/include/arch/loongarch/arch/types.h:11,
                 from /home/leon/download/sel4-test/kernel/include/basic_types.h:10,
                 from /home/leon/download/sel4-test/kernel/include/types.h:9,
                 from /home/leon/download/sel4-test/kernel/src/api/faults.c:8:
/home/leon/download/sel4-test/kernel/src/kernel/boot.c: 在函数‘create_rootserver_objects’中:
/home/leon/download/sel4-test/kernel/include/assert.h:67:36: 错误：静态断言错误："invalid_seL4_ASIDPoolBits"
   67 | #define compile_assert(name, expr) _Static_assert(expr, #name);
      |                                    ^~~~~~~~~~~~~~
/home/leon/download/sel4-test/kernel/src/kernel/boot.c:208:5: 附注：in expansion of macro ‘compile_assert’
  208 |     compile_assert(invalid_seL4_ASIDPoolBits, seL4_ASIDPoolBits == seL4_PageBits);
      |     ^~~~~~~~~~~~~~
/home/leon/download/sel4-test/kernel/src/arch/loongarch/object/interrupt.c: 在函数‘Arch_decodeIRQControlInvocation’中:
/home/leon/download/sel4-test/kernel/src/arch/loongarch/object/interrupt.c:89:1: 错误：在有返回值的函数中，控制流程到达函数尾 [-Werror=return-type]
   89 | }
      | ^
/home/leon/download/sel4-test/kernel/src/arch/loongarch/machine/hardware.c: 在函数‘isIRQPending’中:
/home/leon/download/sel4-test/kernel/src/arch/loongarch/machine/hardware.c:168:1: 错误：在有返回值的函数中，控制流程到达函数尾 [-Werror=return-type]
  168 | }
      | ^
cc1：所有的警告都被当作是错误
ninja: build stopped: subcommand failed.
